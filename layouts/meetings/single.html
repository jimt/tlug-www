{{ define "main" }}
<article class="meeting-single">
  <header class="meeting-header-page">
    <div class="meeting-meta-info">
      <div class="meeting-type-display">
        {{ $meetingType := .Params.meetingType | default "general" }}
        {{ if eq $meetingType "technical" }}
          <span class="type-badge technical">üéØ Technical Meeting</span>
        {{ else if eq $meetingType "social" }}
          <span class="type-badge social">üçª Nomikai</span>
        {{ else }}
          <span class="type-badge general">üìã Meeting</span>
        {{ end }}
      </div>

      <h1 class="meeting-title">{{ .Title }}</h1>

      <div class="meeting-date-display">
        <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" class="meeting-date">
          {{ .Date.Format "January 2, 2006 (Monday)" }}
        </time>

        {{/* Get times from front matter - also check startTime/endTime for backwards compatibility */}}
        {{ $start := or .Params.start .Params.startTime }}
        {{ $end := or .Params.end .Params.endTime }}
        {{ if or $start $end }}
          <div class="meeting-time">
            {{ with $start }}{{ . }}{{ end }}
            {{ if and $start $end }} - {{ end }}
            {{ with $end }}{{ . }}{{ end }}
          </div>
        {{ end }}
      </div>

      {{/* Get location from front matter */}}
      {{ $location := or .Params.location .Params.venue }}
      {{ if $location }}
        <div class="meeting-location-display">
          <span class="location-icon">üìç</span>
          <span class="location-text">{{ $location }}</span>
        </div>
      {{ end }}

      {{ with .Params.summary }}
        <div class="meeting-summary">
          <p>{{ . }}</p>
        </div>
      {{ end }}

      {{ if gt .Date now }}
        <div class="upcoming-notice">
          <strong>üìÖ Upcoming Event</strong> - Mark your calendar!
        </div>
      {{ end }}
    </div>
  </header>

  <div class="meeting-content">
    {{ .Content }}
  </div>

  <nav class="meeting-navigation">
    <div class="nav-links">
      {{ with .PrevInSection }}
        <a href="{{ .RelPermalink }}" class="nav-link prev">
          <span class="nav-direction">‚Üê Previous</span>
          <span class="nav-title">{{ .Title }}</span>
          <span class="nav-date">{{ .Date.Format "Jan 2, 2006" }}</span>
        </a>
      {{ end }}

      <a href="/meetings/" class="nav-link meetings-index">
        <span class="nav-direction">‚Üë All Meetings</span>
        <span class="nav-title">View Meeting Archive</span>
      </a>

      {{ with .NextInSection }}
        <a href="{{ .RelPermalink }}" class="nav-link next">
          <span class="nav-direction">Next ‚Üí</span>
          <span class="nav-title">{{ .Title }}</span>
          <span class="nav-date">{{ .Date.Format "Jan 2, 2006" }}</span>
        </a>
      {{ end }}
    </div>
  </nav>

  {{/* Tags section removed - not needed for meeting pages */}}
</article>

<style>
.meeting-single {
  max-width: 800px;
  margin: 0 auto;
  padding: 0 1rem;
}

.meeting-single .meeting-header-page {
  text-align: center;
  margin: 2rem 0 3rem 0;
  padding: 2rem 0;
  border-bottom: 2px solid #e9ecef;
}

.meeting-single .meeting-type-display {
  margin-bottom: 1rem;
}

.meeting-single .type-badge {
  display: inline-block;
  padding: 0.5rem 1rem;
  border-radius: 25px;
  font-size: 0.9rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.meeting-single .type-badge.technical {
  background: #e7f3ff;
  color: #0056b3;
  border: 2px solid #b3d7ff;
}

.meeting-single .type-badge.social {
  background: #fff0f5;
  color: #c2185b;
  border: 2px solid #f8bbd9;
}

.meeting-single .type-badge.general {
  background: #f0f0f0;
  color: #495057;
  border: 2px solid #d1d1d1;
}

.meeting-single .meeting-title {
  margin: 0 0 1.5rem 0;
  color: #333;
  font-size: 2.5rem;
  line-height: 1.2;
}

.meeting-single .meeting-date-display {
  margin-bottom: 1.5rem;
}

.meeting-single .meeting-date {
  display: block;
  font-size: 1.25rem;
  font-weight: 600;
  color: #495057;
  margin-bottom: 0.5rem;
}

.meeting-single .meeting-time {
  font-size: 1.1rem;
  color: #666;
}

.meeting-single .meeting-location-display {
  margin: 1rem 0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  justify-content: center;
}

.meeting-single .location-icon {
  font-size: 1.1rem;
  color: #28a745;
}

.meeting-single .location-text {
  font-size: 1.1rem;
  color: #495057;
  font-weight: 500;
}

.meeting-single .meeting-summary {
  max-width: 600px;
  margin: 0 auto 1.5rem auto;
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 8px;
  border-left: 4px solid #007bff;
}

.meeting-single .meeting-summary p {
  margin: 0;
  font-size: 1.1rem;
  line-height: 1.6;
  color: #495057;
}

.meeting-single .upcoming-notice {
  background: #d4edda;
  color: #155724;
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid #c3e6cb;
  font-size: 1rem;
  margin-top: 1rem;
}

.meeting-single .meeting-content {
  margin: 2rem 0;
  line-height: 1.7;
}

.meeting-single .meeting-navigation {
  margin: 4rem 0 2rem 0;
  padding: 2rem 0;
  border-top: 2px solid #e9ecef;
}

.meeting-single .nav-links {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 1rem;
  align-items: center;
}

.meeting-single .nav-link {
  display: flex;
  flex-direction: column;
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  transition: background-color 0.2s, transform 0.2s;
  border: 1px solid #dee2e6;
}

.meeting-single .nav-link:hover {
  background: #e9ecef;
  transform: translateY(-1px);
  text-decoration: none;
}

.meeting-single .nav-link.prev {
  text-align: left;
}

.meeting-single .nav-link.next {
  text-align: right;
}

.meeting-single .nav-link.meetings-index {
  text-align: center;
  background: #007bff;
  color: white;
  border-color: #007bff;
}

.meeting-single .nav-link.meetings-index:hover {
  background: #0056b3;
  color: white;
}

.meeting-single .nav-direction {
  font-size: 0.9rem;
  font-weight: 600;
  color: #666;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.meeting-single .meetings-index .nav-direction {
  color: rgba(255, 255, 255, 0.8);
}

.meeting-single .nav-title {
  font-size: 1rem;
  font-weight: 500;
  color: #333;
  margin: 0.25rem 0;
  line-height: 1.3;
}

.meeting-single .meetings-index .nav-title {
  color: white;
}

.meeting-single .nav-date {
  font-size: 0.85rem;
  color: #999;
}

.meeting-single .meetings-index .nav-date {
  color: rgba(255, 255, 255, 0.7);
}

/* Tags section removed - styles no longer needed */

@media (max-width: 768px) {
  .meeting-single .meeting-title {
    font-size: 2rem;
  }

  .meeting-single .nav-links {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }

  .meeting-single .nav-link.prev,
  .meeting-single .nav-link.next {
    text-align: center;
  }

  .meeting-single .meeting-header-page {
    padding: 1rem 0;
  }
}

@media (max-width: 480px) {
  .meeting-single {
    padding: 0 0.5rem;
  }

  .meeting-single .meeting-title {
    font-size: 1.75rem;
  }

  .meeting-single .meeting-summary {
    padding: 1rem;
  }
}
</style>
{{ end }}
