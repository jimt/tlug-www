{{ $agenda := .Page.Params.agenda }} {{ $meetingType := .Page.Params.meetingType
| default "general" }} {{ if $agenda }}
<div class="meeting-agenda">
    <h2>
        {{ if eq $meetingType "technical" }}Presentations & Agenda{{ else
        }}Agenda{{ end }}
    </h2>

    <div class="agenda-items">
        {{ range $index, $item := $agenda }} {{ if eq .type "presentation" }}
        <div class="agenda-item presentation">
            <div class="agenda-header">
                <h3 class="presentation-title">{{ .title }}</h3>
                {{ with .presenter }}
                <p class="presenter">By <em>{{ . }}</em></p>
                {{ end }} {{ with .duration }}
                <span class="duration">{{ . }}</span>
                {{ end }}
            </div>
            {{ with .description }}
            <div class="presentation-description">{{ . | markdownify }}</div>
            {{ end }}
        </div>
        {{ else if eq .type "break" }}
        <div class="agenda-item break">
            <h4 class="break-title">‚òï {{ .title }}</h4>
            {{ with .duration }}
            <span class="duration">{{ . }}</span>
            {{ end }}
        </div>
        {{ else if eq .type "general" }}
        <div class="agenda-item general">
            <h3 class="general-title">{{ .title }}</h3>
            {{ with .items }}
            <ul class="general-items">
                {{ range . }}
                <li>{{ . | markdownify }}</li>
                {{ end }}
            </ul>
            {{ end }} {{ with .description }}
            <div class="general-description">{{ . | markdownify }}</div>
            {{ end }}
        </div>
        {{ else if eq .type "social" }}
        <div class="agenda-item social">
            <h3 class="social-title">üçª {{ .title }}</h3>
            {{ with .description }}
            <div class="social-description">{{ . | markdownify }}</div>
            {{ end }} {{ with .cost }}
            <p class="cost"><strong>Cost:</strong> {{ . }}</p>
            {{ end }}
        </div>
        {{ else }}
        <div class="agenda-item other">
            <h3>{{ .title }}</h3>
            {{ with .description }}
            <div class="description">{{ . | markdownify }}</div>
            {{ end }}
        </div>
        {{ end }} {{ end }}
    </div>

    {{ with .Inner }}
    <div class="agenda-additional">{{ . | markdownify }}</div>
    {{ end }}
</div>

<style>
    .meeting-agenda {
        margin: 2rem 0;
    }

    .meeting-agenda h2 {
        color: #333;
        border-bottom: 2px solid #28a745;
        padding-bottom: 0.5rem;
        margin-bottom: 1.5rem;
    }

    .meeting-agenda .agenda-items {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .meeting-agenda .agenda-item {
        padding: 1.25rem;
        border-radius: 8px;
        border-left: 4px solid;
    }

    .meeting-agenda .agenda-item.presentation {
        background: #f8fff8;
        border-left-color: #28a745;
    }

    .meeting-agenda .agenda-item.break {
        background: #fff8e1;
        border-left-color: #ffc107;
        text-align: center;
        padding: 0.75rem;
    }

    .meeting-agenda .agenda-item.general {
        background: #f0f7ff;
        border-left-color: #007bff;
    }

    .meeting-agenda .agenda-item.social {
        background: #fff0f5;
        border-left-color: #e91e63;
    }

    .meeting-agenda .agenda-item.other {
        background: #f5f5f5;
        border-left-color: #6c757d;
    }

    .meeting-agenda .agenda-header {
        display: flex;
        flex-wrap: wrap;
        align-items: baseline;
        gap: 0.5rem;
        margin-bottom: 0.75rem;
    }

    .meeting-agenda .presentation-title,
    .meeting-agenda .general-title,
    .meeting-agenda .social-title {
        margin: 0;
        flex-grow: 1;
        color: #333;
    }

    .meeting-agenda .presentation-title {
        color: #28a745;
    }

    .meeting-agenda .general-title {
        color: #007bff;
    }

    .meeting-agenda .social-title {
        color: #e91e63;
    }

    .meeting-agenda .presenter {
        margin: 0;
        color: #666;
        font-size: 0.9rem;
    }

    .meeting-agenda .duration {
        background: rgba(0, 0, 0, 0.1);
        padding: 0.25rem 0.5rem;
        border-radius: 12px;
        font-size: 0.8rem;
        color: #666;
        white-space: nowrap;
    }

    .meeting-agenda .break-title {
        margin: 0;
        color: #ffc107;
        font-size: 1.1rem;
    }

    .meeting-agenda .presentation-description,
    .meeting-agenda .general-description,
    .meeting-agenda .social-description,
    .meeting-agenda .description {
        margin-top: 0.75rem;
    }

    .meeting-agenda .presentation-description ul,
    .meeting-agenda .general-description ul,
    .meeting-agenda .social-description ul,
    .meeting-agenda .description ul {
        margin: 0.5rem 0;
        padding-left: 1.5rem;
    }

    .meeting-agenda .general-items {
        margin: 0.75rem 0 0 0;
        padding-left: 1.5rem;
    }

    .meeting-agenda .general-items li {
        margin-bottom: 0.5rem;
    }

    .meeting-agenda .cost {
        margin-top: 0.75rem;
        padding: 0.5rem;
        background: rgba(233, 30, 99, 0.1);
        border-radius: 4px;
        font-size: 0.95rem;
    }

    .meeting-agenda .agenda-additional {
        margin-top: 1.5rem;
        padding: 1rem;
        background: #f9f9f9;
        border-radius: 6px;
        border-left: 3px solid #6c757d;
    }

    .meeting-agenda .agenda-additional p {
        margin: 0.5rem 0;
    }

    .meeting-agenda .agenda-additional p:first-child {
        margin-top: 0;
    }

    .meeting-agenda .agenda-additional p:last-child {
        margin-bottom: 0;
    }

    @media (max-width: 768px) {
        .meeting-agenda .agenda-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.25rem;
        }

        .meeting-agenda .duration {
            align-self: flex-start;
        }
    }
</style>
{{ end }}
