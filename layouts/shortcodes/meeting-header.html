{{ $meetingDate := .Page.Date }} {{ $meetingType := .Page.Params.meetingType |
default "general" }} {{/* Get location from Scratch or front matter */}} {{
$location := .Page.Scratch.Get "meeting_location" }} {{ if not $location }} {{
if or .Page.Params.location .Page.Params.venue }} {{ $location = dict "venue"
(or .Page.Params.venue .Page.Params.location) }} {{ end }} {{ end }} {{/* Get
schedule from Scratch or front matter */}} {{ $schedule := .Page.Scratch.Get
"meeting_schedule" }} {{ if not $schedule }} {{ if or .Page.Params.start
.Page.Params.end .Page.Params.startTime .Page.Params.endTime }} {{ $schedule =
dict "start" (or .Page.Params.start .Page.Params.startTime) "end" (or
.Page.Params.end .Page.Params.endTime) }} {{ end }} {{ end }} {{ $registration
:= .Page.Scratch.Get "meeting_registration" }}

<div class="meeting-header">
    <div class="meeting-basics">
        <h2>{{ .Page.Title }}</h2>

        <div class="meeting-meta">
            <div class="meeting-info-row">
                <div class="meeting-schedule">
                    <div class="schedule-content">
                        <div class="date-line">
                            {{ $meetingDate.Format "January 2, 2006 (Monday)" }}
                        </div>
                        {{ with $schedule }} {{ if or .start .end }}
                        <div class="time-line">
                            {{ with .start }}{{ . }}{{ end }}{{ if and .start
                            .end }} - {{ end }}{{ with .end }}{{ . }}{{ end }}
                        </div>
                        {{ end }} {{ end }}
                    </div>
                </div>

                {{ with $location }} {{ if .venue }}
                <div class="meeting-location">
                    <div class="location-main">
                        <span class="info-content">{{ .venue }}</span>
                    </div>
                    {{ with $location }} {{ if or .address .map .website }}
                    <div class="location-details">
                        {{ with .address }}
                        <div class="address">{{ . | markdownify }}</div>
                        {{ end }}
                        <div class="location-links">
                            {{ with .map }}
                            <a
                                href="{{ . }}"
                                target="_blank"
                                rel="noopener"
                                class="link-button"
                            >
                                üó∫Ô∏è View Map
                            </a>
                            {{ end }} {{ with .website }}
                            <a
                                href="{{ . }}"
                                target="_blank"
                                rel="noopener"
                                class="link-button"
                            >
                                üåê Website
                            </a>
                            {{ end }}
                        </div>
                    </div>
                    {{ end }} {{ end }}
                </div>
                {{ end }} {{ end }}
            </div>

            {{ with $schedule.notes }}
            <div class="schedule-notes">{{ . | markdownify }}</div>
            {{ end }}
        </div>
    </div>
    {{ with $registration }} {{ if and .required (gt $meetingDate now) }}
    <div class="registration-required">
        <h3>Registration Required</h3>
        {{ with .url }}
        <p>
            <a
                href="{{ . }}"
                class="btn btn-primary"
                target="_blank"
                rel="noopener"
                >Register Here</a
            >
        </p>
        {{ end }} {{ with .note }}
        <p class="registration-note">{{ . | markdownify }}</p>
        <p>
            <a
                href="{{ . }}"
                class="btn btn-primary"
                target="_blank"
                rel="noopener"
                >Register Here</a
            >
        </p>
        {{ end }} {{ with .notes }}
        <div class="registration-note">{{ . }}</div>
        {{ end }}
    </div>
    {{ else }} {{ if gt $meetingDate now }} {{ with .notes }}
    <div class="registration-info">
        <div class="registration-note">{{ . }}</div>
    </div>
    {{ end }} {{ end }} {{ end }} {{ end }}
</div>

<style>
    .meeting-header {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 8px;
        margin: 2rem 0;
        border-left: 4px solid #007bff;
    }

    .meeting-header .meeting-basics h2 {
        margin-top: 0;
        color: #333;
        border-bottom: 2px solid #007bff;
        padding-bottom: 0.5rem;
    }

    .meeting-header .meeting-meta {
        margin-top: 1.5rem;
    }

    .meeting-header .meeting-info-row {
        display: flex;
        flex-wrap: wrap;
        gap: 2rem;
        align-items: flex-start;
        margin-bottom: 1rem;
    }

    .meeting-header .meeting-schedule,
    .meeting-header .meeting-location {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        border: none;
    }

    .meeting-header .location-main {
        display: flex;
        align-items: baseline;
        margin-bottom: 0.5rem;
    }

    .meeting-header .schedule-content {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .meeting-header .meeting-schedule {
        flex: 1;
        min-width: 250px;
    }

    .meeting-header .meeting-location {
        flex: 1;
    }

    .meeting-header .info-label {
        font-size: 1.25rem;
        flex-shrink: 0;
        line-height: 1.2;
    }

    .meeting-header .date-line {
        font-size: 1.05rem;
        color: #495057;
        font-weight: 600;
        line-height: 1.2;
        margin: 0;
        padding: 0;
    }

    .meeting-header .time-line {
        font-size: 0.95rem;
        color: #6c757d;
        font-weight: 500;
    }

    .meeting-header .info-content {
        font-size: 1.05rem;
        color: #495057;
        font-weight: 600;
        line-height: 1.2;
        margin: 0;
        padding: 0;
    }

    .meeting-header .schedule-notes {
        padding: 0.75rem;
        background: #f8f9fa;
        border-radius: 6px;
        font-size: 0.95rem;
        color: #6c757d;
        line-height: 1.6;
        margin-bottom: 1rem;
    }

    .meeting-header .location-details {
        background: #f8f9fa;
        border-radius: 8px;
    }

    .meeting-header .address {
        color: #495057;
        line-height: 1.6;
        margin-bottom: 1rem;
    }

    .meeting-header .address p {
        margin: 0.25rem 0;
    }

    .meeting-header .location-links {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .meeting-header .link-button {
        display: inline-flex;
        align-items: center;
        padding: 0.5rem 1rem;
        background: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 500;
        font-size: 0.9rem;
        transition: background-color 0.2s ease;
    }

    .meeting-header .link-button:hover {
        background: #0056b3;
        color: white;
        text-decoration: none;
    }

    @media (max-width: 768px) {
        .meeting-header .meeting-info-row {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
        }

        .meeting-header .meeting-schedule,
        .meeting-header .meeting-location {
            width: 100%;
            flex: none;
        }

        .meeting-header .meeting-schedule {
            min-width: auto;
        }
    }

    .meeting-header .registration-required {
        background: #e7f3ff;
        padding: 1rem;
        border-radius: 6px;
        margin-top: 1.5rem;
        border: 1px solid #007bff;
    }

    .meeting-header .registration-info {
        background: #f0f7ff;
        padding: 1rem;
        border-radius: 6px;
        margin-top: 1.5rem;
        border: 1px solid #cce7ff;
    }

    .meeting-header .btn {
        display: inline-block;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        text-decoration: none;
        font-weight: bold;
        text-align: center;
        margin-top: 1rem;
    }

    .meeting-header .btn-primary {
        background: #007bff;
        color: white;
    }

    .meeting-header .btn-primary:hover {
        background: #0056b3;
    }

    .meeting-header .registration-note {
        font-size: 0.9rem;
        margin-bottom: 0;
    }
</style>
